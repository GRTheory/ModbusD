## Modbus Tcp协议例子

### 请求报文：

设备IP地址：192.168.0.1

端口号：502

从站地址：1

读取输入寄存器的起始地址：1000

读取一个输入寄存器

#### TCP报文：

00 01 // 事务标识符：一个16位的无符号整数，用于唯一标识该报文的请求和响应。在响应报文中，这个值应该与请求报文中的值一致。

00 00 // 协议标识符 ：一个16位的无符号整数，用于标识Modbus协议。Modbus TCP协议的标识符为0。

00 06 // 长度 ：一个16位的无符号整数，表示整个Modbus TCP报文的字节数，包括TCP报文头和Modbus应用层头。

00 00 // 单元标识符：一个8位无符号整数，用于标识Modbus从站设备。在Modbus TCP协议中，通常设置为0，表示对所有从站

设备都发送请求。

Modbus应用层头： 

04 // 功能码 ：一个8位无符号整数，用于指示该报文的具体功能。例如读取保持寄存器的功能码位0x03。

03 E7 // 起始地址 (1000的16进制表示) 

00 01 // 寄存器数量

### 回复报文：

#### TCP报文：

00 01 // 事务标识符 

00 00 // 协议标识符 

00 09 // 长度 

00 00 // 单元标识符

Modbus应用层头： 

04 // 功能码 

02 // 字节数（1个寄存器=2字节） 

02 03 // 输入寄存器1的值（0x0203的16进制表示）